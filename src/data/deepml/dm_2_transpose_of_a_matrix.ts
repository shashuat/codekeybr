import { Problem } from '../../types';

export const DM_2_TRANSPOSE_OF_A_MATRIX: Problem = {
  "id": "dm_2_transpose_of_a_matrix",
  "title": "Transpose of a Matrix",
  "difficulty": "Easy",
  "tags": [
    "Linear Algebra",
    "Matrix Operations"
  ],
  "descriptionMarkdown": "Write a Python function that computes the transpose of a given 2D matrix. The transpose of a matrix is formed by turning its rows into columns and columns into rows. For an m\u00d7n matrix, the transpose will be an n\u00d7m matrix.\n\nExample:\n- Input: a = [[1, 2, 3], [4, 5, 6]]\n- Output: [[1, 4], [2, 5], [3, 6]]\n\nReasoning: The input is a 2\u00d73 matrix. The transpose swaps rows and columns: the first row [1, 2, 3] becomes the first column, and the second row [4, 5, 6] becomes the second column, resulting in a 3\u00d72 matrix.",
  "solutionExplanation": "Transposing a matrix swaps its row and column indices: the element at position (i, j) in the original matrix becomes the element at position (j, i) in the transposed matrix. For an input matrix of shape (m, n), the transposed matrix has shape (n, m). This is a fundamental operation in linear algebra and is heavily used in matrix computations and deep learning frameworks.\n\nIn PyTorch, transposition of a 2D tensor can be done efficiently using tensor.t() or tensor.transpose(0, 1). The operation itself is typically a view (no data copy), but converting back to a Python list of lists will materialize the data. The provided function accepts either a Python list-of-lists or a torch.Tensor, validates that the input is 2D and rectangular when given as a list, performs the transpose using PyTorch operations, and returns the result as a list of lists for compatibility with the problem statement.",
  "solutionCode": "import torch\nfrom typing import List, Union\n\nTensorOrNested = Union[torch.Tensor, List[List[Union[int, float]]]]\n\ndef transpose_matrix(a: TensorOrNested) -> List[List[float]]:\n    \"\"\"\n    Transpose a 2D matrix by swapping rows and columns using PyTorch.\n\n    Args:\n        a: A 2D matrix provided as either:\n           - list of lists (rectangular), or\n           - torch.Tensor of shape (m, n)\n\n    Returns:\n        The transposed matrix as a list of lists with shape (n, m).\n\n    Raises:\n        ValueError: If the input is not 2D or is not a rectangular list-of-lists.\n    \"\"\"\n    # Convert input to torch.Tensor with validation\n    if isinstance(a, torch.Tensor):\n        t = a\n    else:\n        # Basic validation for list-of-lists input\n        if not isinstance(a, (list, tuple)) or len(a) == 0 or not isinstance(a[0], (list, tuple)):\n            raise ValueError(\"Input must be a non-empty 2D list (list of lists) or a 2D torch.Tensor.\")\n        ncols = len(a[0])\n        for row in a:\n            if not isinstance(row, (list, tuple)) or len(row) != ncols:\n                raise ValueError(\"All rows must be lists/tuples of the same length (rectangular 2D list).\")\n        # Build tensor; PyTorch will infer an appropriate dtype (e.g., float64 or int64)\n        t = torch.tensor(a)\n\n    if t.ndim != 2:\n        raise ValueError(f\"Input must be 2D; got {t.ndim}D tensor instead.\")\n\n    # Transpose using PyTorch (view when possible)\n    t_T = t.transpose(0, 1)\n\n    # Return as list-of-lists to match the problem's expected output format\n    return t_T.tolist()\n\n\nif __name__ == \"__main__\":\n    # Example usage 1: list-of-lists input\n    a = [[1, 2, 3], [4, 5, 6]]\n    print(transpose_matrix(a))  # Expected: [[1, 4], [2, 5], [3, 6]]\n\n    # Example usage 2: tensor input\n    t = torch.tensor([[1.0, 2.0], [3.0, 4.0]])\n    print(transpose_matrix(t))  # Expected: [[1.0, 3.0], [2.0, 4.0]]\n",
  "timeComplexity": "O(mn)",
  "spaceComplexity": "O(mn)",
  "platform": "deepml"
};
